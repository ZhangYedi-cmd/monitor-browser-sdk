# @monitor-sdk/core 

## 监控sdk内核

为什么要抽离出监控sdk内核？

监控系统主要的功能点在于对于用户行为，错误，性能指标
进行监控，我们可以抽离出统一的内核，之后使用插件化的方式
去对不同指标进行监控。这样不同的插件可以分开进行维护。

监控内核需要有什么样的功能点？ 
1. 日志回传能力，也是最基本的能力
2. 提供可插拔的插件机制，让用户去选择监控到哪些指标
3. 发布订阅能力，发布者为用户传入的插件，订阅者为监控SDK内核，
触发插件回调时内核将接受到插件传入数据，并将其推入到当前的任务队列中
4. 回传异常处理，当日志上传失败时，是采用重试机制？还是持久化缓存到本地？
5. 任务调度能力，一款优秀的日志上报SDK应该尽可能的减少对于项目本身
的影响，这就需要对任务队列有一定的调度能力。 


那么插件需要提供呢哪些能力？
1. 明确监控哪些指标，怎样去监控，调用什么API
2. 监控到数据后，对数据如何处理，处理为怎么样的格式？ 
3. 发布订阅能力，此时插件作为发布者，将数据回传给监控内核，再由监控内核进行回传。


